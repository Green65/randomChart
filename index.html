<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>line chart</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1"></script>
    <script>
      window.onload = function () {
        const context = document.querySelector("#fukuoka_temperature_chart").getContext('2d')
        const canvas = document.querySelector('canvas');
        const url = new URL(window.location.href);
        const params = url.searchParams;
        const chartSize = params.get("s") || 5000
        canvas.setAttribute("width", document.body.clientWidth);
        canvas.setAttribute("height", document.documentElement.clientHeight);
        const  label = [];
        const data = [];
        let num = 0;
        for(let i = 1;i<chartSize;i++) {
          const rnd = parseInt(Math.random()*2,10)
          if(rnd === 1) num++
          if(rnd === 0) num--;
          label.push(i);
          data.push(num);
        }
        new Chart(context, {
          type: 'line',
          data: {
            labels: label,
            datasets: [{
              label: "Random Chart",
              data: data,
              borderColor: '#ff6347',
              backgroundColor: '#ff6347',
              borderWidth: 3,
              pointRadius: 0
            }],
          },
          options: {
            responsive: false,
          }
        })
      }
    </script>
  </head>
  <body>
    <canvas id="fukuoka_temperature_chart"></canvas>
  </body>
</html>
